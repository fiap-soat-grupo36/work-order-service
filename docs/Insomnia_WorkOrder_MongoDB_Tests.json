{
  "_type": "export",
  "__export_format": 4,
  "__export_date": "2026-02-19T10:00:00.000Z",
  "__export_source": "insomnia.desktop.app:v2023.5.8",
  "resources": [
    {
      "_id": "wrk_mongodb_tests",
      "_type": "workspace",
      "name": "Work Order MongoDB - Tests",
      "description": "Testes de integra√ß√£o MongoDB + Feign Client",
      "parentId": null
    },
    {
      "_id": "env_base",
      "_type": "environment",
      "name": "Base Environment",
      "data": {
        "baseUrl": "http://localhost",
        "customerPort": "8081",
        "workOrderPort": "8087"
      },
      "parentId": "wrk_mongodb_tests"
    },
    {
      "_id": "fld_customer",
      "_type": "request_group",
      "name": "1. Customer Service (PostgreSQL)",
      "description": "Servi√ßos de cliente e ve√≠culo - PostgreSQL porta 8081",
      "parentId": "wrk_mongodb_tests"
    },
    {
      "_id": "req_create_cliente",
      "_type": "request",
      "name": "Criar Cliente",
      "url": "{{ _.baseUrl }}:{{ _.customerPort }}/api/clientes",
      "method": "POST",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"nome\": \"Carlos Mendes\",\n  \"email\": \"carlos.mendes@email.com\",\n  \"telefone\": \"11977665544\",\n  \"cpf\": \"12312312399\",\n  \"ativo\": true\n}"
      },
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ],
      "description": "Cria um novo cliente no PostgreSQL (customer-service)",
      "parentId": "fld_customer"
    },
    {
      "_id": "req_get_cliente",
      "_type": "request",
      "name": "Buscar Cliente por ID",
      "url": "{{ _.baseUrl }}:{{ _.customerPort }}/api/clientes/3",
      "method": "GET",
      "description": "Busca Carlos Mendes (cliente rec√©m criado)",
      "parentId": "fld_customer"
    },
    {
      "_id": "req_create_veiculo",
      "_type": "request",
      "name": "Criar Ve√≠culo",
      "url": "{{ _.baseUrl }}:{{ _.customerPort }}/api/veiculos",
      "method": "POST",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"placa\": \"DEF4567\",\n  \"marca\": \"Chevrolet\",\n  \"modelo\": \"Onix\",\n  \"ano\": 2024,\n  \"cor\": \"Vermelho\",\n  \"clienteId\": 3,\n  \"ativo\": true\n}"
      },
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ],
      "description": "Cria ve√≠culo associado ao cliente ID 3 (Carlos Mendes)",
      "parentId": "fld_customer"
    },
    {
      "_id": "req_get_veiculo",
      "_type": "request",
      "name": "Buscar Ve√≠culo por ID",
      "url": "{{ _.baseUrl }}:{{ _.customerPort }}/api/veiculos/3",
      "method": "GET",
      "description": "Busca Chevrolet Onix (ve√≠culo rec√©m criado)",
      "parentId": "fld_customer"
    },
    {
      "_id": "req_update_cliente",
      "_type": "request",
      "name": "Atualizar Telefone Cliente",
      "url": "{{ _.baseUrl }}:{{ _.customerPort }}/api/clientes/3",
      "method": "PUT",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"nome\": \"Carlos Mendes\",\n  \"email\": \"carlos.mendes@email.com\",\n  \"telefone\": \"11955554444\",\n  \"cpf\": \"12312312399\",\n  \"ativo\": true\n}"
      },
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ],
      "description": "Atualiza telefone de 11977665544 para 11955554444 - para testar dados em tempo real no MongoDB",
      "parentId": "fld_customer"
    },
    {
      "_id": "fld_workorder",
      "_type": "request_group",
      "name": "2. Work Order Service (MongoDB)",
      "description": "Ordens de Servi√ßo - MongoDB porta 8087",
      "parentId": "wrk_mongodb_tests"
    },
    {
      "_id": "req_create_os",
      "_type": "request",
      "name": "Criar Ordem de Servi√ßo",
      "url": "{{ _.baseUrl }}:{{ _.workOrderPort }}/api/ordens-servico",
      "method": "POST",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"clienteId\": 3,\n  \"veiculoId\": 3,\n  \"observacoes\": \"Revisao dos 10.000 km - Teste MongoDB + Feign Client\"\n}"
      },
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ],
      "description": "Cria OS no MongoDB validando Carlos Mendes + Chevrolet Onix via Feign",
      "parentId": "fld_workorder"
    },
    {
      "_id": "req_list_os",
      "_type": "request",
      "name": "Listar Todas as OSs",
      "url": "{{ _.baseUrl }}:{{ _.workOrderPort }}/api/ordens-servico",
      "method": "GET",
      "description": "Lista todas as OSs do MongoDB com dados enriquecidos",
      "parentId": "fld_workorder"
    },
    {
      "_id": "req_get_os",
      "_type": "request",
      "name": "Buscar OS por ID (ObjectId)",
      "url": "{{ _.baseUrl }}:{{ _.workOrderPort }}/api/ordens-servico/69963c0e67ed7e07c1cce2d7",
      "method": "GET",
      "description": "Busca OS espec√≠fica usando String (ObjectId do MongoDB)",
      "parentId": "fld_workorder"
    },
    {
      "_id": "req_get_os_cliente",
      "_type": "request",
      "name": "Buscar OSs por Cliente",
      "url": "{{ _.baseUrl }}:{{ _.workOrderPort }}/api/ordens-servico/por-cliente/3",
      "method": "GET",
      "description": "Lista todas as OSs de Carlos Mendes",
      "parentId": "fld_workorder"
    },
    {
      "_id": "req_get_os_veiculo",
      "_type": "request",
      "name": "Buscar OSs por Ve√≠culo",
      "url": "{{ _.baseUrl }}:{{ _.workOrderPort }}/api/ordens-servico/por-veiculo/3",
      "method": "GET",
      "description": "Lista todas as OSs do Chevrolet Onix",
      "parentId": "fld_workorder"
    },
    {
      "_id": "req_atribuir_mecanico",
      "_type": "request",
      "name": "Atribuir Mec√¢nico √† OS",
      "url": "{{ _.baseUrl }}:{{ _.workOrderPort }}/api/ordens-servico/OBJECTID_AQUI/atribuir-mecanico",
      "method": "PUT",
      "parameters": [
        {
          "name": "mecanicoId",
          "value": "1"
        }
      ],
      "description": "Atribui mec√¢nico √† OS (substitua OBJECTID_AQUI pelo ID real)",
      "parentId": "fld_workorder"
    },
    {
      "_id": "req_diagnosticar",
      "_type": "request",
      "name": "Diagnosticar OS",
      "url": "{{ _.baseUrl }}:{{ _.workOrderPort }}/api/ordens-servico/OBJECTID_AQUI/diagnosticar",
      "method": "PUT",
      "parameters": [
        {
          "name": "observacoes",
          "value": "Diagn√≥stico realizado - necess√°rio troca de √≥leo e filtros"
        }
      ],
      "description": "Realiza diagn√≥stico e muda status para EM_DIAGNOSTICO (publica evento para Budget Service)",
      "parentId": "fld_workorder"
    },
    {
      "_id": "req_executar",
      "_type": "request",
      "name": "Executar OS",
      "url": "{{ _.baseUrl }}:{{ _.workOrderPort }}/api/ordens-servico/OBJECTID_AQUI/executar",
      "method": "PUT",
      "parameters": [
        {
          "name": "observacoes",
          "value": "Iniciando execu√ß√£o dos servi√ßos"
        }
      ],
      "description": "Inicia execu√ß√£o e muda status para EM_EXECUCAO",
      "parentId": "fld_workorder"
    },
    {
      "_id": "req_finalizar",
      "_type": "request",
      "name": "Finalizar OS",
      "url": "{{ _.baseUrl }}:{{ _.workOrderPort }}/api/ordens-servico/OBJECTID_AQUI/finalizar",
      "method": "PUT",
      "parameters": [
        {
          "name": "observacoes",
          "value": "Servi√ßos conclu√≠dos com sucesso"
        }
      ],
      "description": "Finaliza OS e muda status para FINALIZADA (publica evento VeiculoDisponivelEvent)",
      "parentId": "fld_workorder"
    },
    {
      "_id": "req_entregar",
      "_type": "request",
      "name": "Entregar OS",
      "url": "{{ _.baseUrl }}:{{ _.workOrderPort }}/api/ordens-servico/OBJECTID_AQUI/entregar",
      "method": "PUT",
      "parameters": [
        {
          "name": "observacoes",
          "value": "Ve√≠culo entregue ao cliente"
        }
      ],
      "description": "Registra entrega e muda status para ENTREGUE",
      "parentId": "fld_workorder"
    },
    {
      "_id": "fld_lifecycle",
      "_type": "request_group",
      "name": "2.1 Ciclo de Vida da OS",
      "description": "Fluxo completo: RECEBIDA ‚Üí EM_DIAGNOSTICO ‚Üí EM_EXECUCAO ‚Üí FINALIZADA ‚Üí ENTREGUE",
      "parentId": "wrk_mongodb_tests"
    },
    {
      "_id": "req_lifecycle_note",
      "_type": "request",
      "name": "üìù Instru√ß√µes: Ciclo de Vida",
      "url": "http://localhost:8087/api/ordens-servico",
      "method": "GET",
      "description": "FLUXO COMPLETO:\n\n1. Criar OS (status: RECEBIDA)\n2. Atribuir Mec√¢nico\n3. Diagnosticar (status: EM_DIAGNOSTICO)\n   ‚Üí Publica evento CalcularOrcamentoEvent\n   ‚Üí Budget Service criaria or√ßamento (AGUARDANDO_APROVACAO)\n4. Executar (status: EM_EXECUCAO)\n5. Finalizar (status: FINALIZADA)\n   ‚Üí Publica evento VeiculoDisponivelEvent\n6. Entregar (status: ENTREGUE)\n\nOBS: Substitua OBJECTID_AQUI pelo ObjectId real retornado na cria√ß√£o da OS",
      "parentId": "fld_lifecycle"
    },
    {
      "_id": "fld_services_products",
      "_type": "request_group",
      "name": "2.2 Adicionar Servi√ßos e Produtos",
      "description": "Gerenciar itens da OS",
      "parentId": "wrk_mongodb_tests"
    },
    {
      "_id": "req_add_servicos",
      "_type": "request",
      "name": "Adicionar Servi√ßos √† OS",
      "url": "{{ _.baseUrl }}:{{ _.workOrderPort }}/api/ordens-servico/OBJECTID_AQUI/servicos",
      "method": "POST",
      "body": {
        "mimeType": "application/json",
        "text": "[1, 2]"
      },
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ],
      "description": "Adiciona servi√ßos √† OS (IDs do catalog-service). Ex: [1=Troca √ìleo, 2=Alinhamento]",
      "parentId": "fld_services_products"
    },
    {
      "_id": "req_remove_servicos",
      "_type": "request",
      "name": "Remover Servi√ßos da OS",
      "url": "{{ _.baseUrl }}:{{ _.workOrderPort }}/api/ordens-servico/OBJECTID_AQUI/servicos",
      "method": "DELETE",
      "body": {
        "mimeType": "application/json",
        "text": "[2]"
      },
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ],
      "description": "Remove servi√ßos da OS",
      "parentId": "fld_services_products"
    },
    {
      "_id": "req_add_produtos",
      "_type": "request",
      "name": "Adicionar Produtos √† OS",
      "url": "{{ _.baseUrl }}:{{ _.workOrderPort }}/api/ordens-servico/OBJECTID_AQUI/produtos",
      "method": "POST",
      "body": {
        "mimeType": "application/json",
        "text": "[\n  {\n    \"produtoCatalogoId\": 1,\n    \"quantidade\": 4,\n    \"precoUnitario\": 89.90\n  },\n  {\n    \"produtoCatalogoId\": 2,\n    \"quantidade\": 1,\n    \"precoUnitario\": 35.00\n  }\n]"
      },
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ],
      "description": "Adiciona produtos √† OS (IDs do catalog-service)",
      "parentId": "fld_services_products"
    },
    {
      "_id": "req_remove_produtos",
      "_type": "request",
      "name": "Remover Produtos da OS",
      "url": "{{ _.baseUrl }}:{{ _.workOrderPort }}/api/ordens-servico/OBJECTID_AQUI/produtos",
      "method": "DELETE",
      "body": {
        "mimeType": "application/json",
        "text": "[1]"
      },
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ],
      "description": "Remove produtos da OS",
      "parentId": "fld_services_products"
    },
    {
      "_id": "fld_queries",
      "_type": "request_group",
      "name": "2.3 Consultas Avan√ßadas",
      "description": "Buscar OSs por diferentes crit√©rios",
      "parentId": "wrk_mongodb_tests"
    },
    {
      "_id": "req_get_os_status",
      "_type": "request",
      "name": "Buscar OSs por Status",
      "url": "{{ _.baseUrl }}:{{ _.workOrderPort }}/api/ordens-servico",
      "method": "GET",
      "parameters": [
        {
          "name": "status",
          "value": "EM_EXECUCAO"
        }
      ],
      "description": "Lista OSs com status espec√≠fico (RECEBIDA, EM_DIAGNOSTICO, EM_EXECUCAO, FINALIZADA, ENTREGUE)",
      "parentId": "fld_queries"
    },
    {
      "_id": "req_get_os_aprovadas",
      "_type": "request",
      "name": "Listar OSs Aprovadas",
      "url": "{{ _.baseUrl }}:{{ _.workOrderPort }}/api/ordens-servico/aprovadas",
      "method": "GET",
      "description": "Lista apenas OSs aprovadas",
      "parentId": "fld_queries"
    },
    {
      "_id": "req_get_orcamento",
      "_type": "request",
      "name": "Buscar Or√ßamento da OS",
      "url": "{{ _.baseUrl }}:{{ _.workOrderPort }}/api/ordens-servico/OBJECTID_AQUI/orcamento",
      "method": "GET",
      "description": "Busca or√ßamento associado √† OS (requer Budget Service)",
      "parentId": "fld_queries"
    },
    {
      "_id": "req_update_os",
      "_type": "request",
      "name": "Atualizar OS Completa",
      "url": "{{ _.baseUrl }}:{{ _.workOrderPort }}/api/ordens-servico/OBJECTID_AQUI",
      "method": "PUT",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"clienteId\": 3,\n  \"veiculoId\": 3,\n  \"observacoes\": \"Observa√ß√µes atualizadas - servi√ßos adicionais necess√°rios\",\n  \"servicosIds\": [1, 2, 3],\n  \"produtos\": [\n    {\n      \"produtoCatalogoId\": 1,\n      \"quantidade\": 5,\n      \"precoUnitario\": 89.90\n    }\n  ]\n}"
      },
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ],
      "description": "Atualiza dados completos da OS",
      "parentId": "fld_queries"
    },
    {
      "_id": "req_delete_os",
      "_type": "request",
      "name": "Deletar OS",
      "url": "{{ _.baseUrl }}:{{ _.workOrderPort }}/api/ordens-servico/OBJECTID_AQUI",
      "method": "DELETE",
      "description": "Remove OS do sistema",
      "parentId": "fld_queries"
    },
    {
      "_id": "fld_tests",
      "_type": "request_group",
      "name": "3. Testes de Integra√ß√£o",
      "description": "Cen√°rios de teste completos",
      "parentId": "wrk_mongodb_tests"
    },
    {
      "_id": "req_test_realtime",
      "_type": "request",
      "name": "Teste: Dados em Tempo Real",
      "url": "{{ _.baseUrl }}:{{ _.workOrderPort }}/api/ordens-servico",
      "method": "GET",
      "description": "TESTE: Execute ap√≥s atualizar telefone do cliente - deve mostrar telefone novo em todas as OSs",
      "parentId": "fld_tests"
    },
    {
      "_id": "req_test_validation",
      "_type": "request",
      "name": "Teste: Valida√ß√£o Feign (Ve√≠culo Inv√°lido)",
      "url": "{{ _.baseUrl }}:{{ _.workOrderPort }}/api/ordens-servico",
      "method": "POST",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"clienteId\": 3,\n  \"veiculoId\": 999,\n  \"observacoes\": \"Teste: deve falhar pois ve√≠culo 999 n√£o existe\"\n}"
      },
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ],
      "description": "TESTE: Deve retornar erro 404 - Ve√≠culo n√£o encontrado via Feign",
      "parentId": "fld_tests"
    },
    {
      "_id": "req_test_validation_cliente",
      "_type": "request",
      "name": "Teste: Valida√ß√£o Feign (Cliente Inv√°lido)",
      "url": "{{ _.baseUrl }}:{{ _.workOrderPort }}/api/ordens-servico",
      "method": "POST",
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"clienteId\": 999,\n  \"veiculoId\": 3,\n  \"observacoes\": \"Teste: deve falhar pois cliente 999 n√£o existe\"\n}"
      },
      "headers": [
        {
          "name": "Content-Type",
          "value": "application/json"
        }
      ],
      "description": "TESTE: Deve retornar erro 404 - Cliente n√£o encontrado via Feign",
      "parentId": "fld_tests"
    },
    {
      "_id": "req_test_lifecycle_complete",
      "_type": "request",
      "name": "Teste: Ciclo Completo",
      "url": "{{ _.baseUrl }}:{{ _.workOrderPort }}/api/ordens-servico",
      "method": "GET",
      "description": "TESTE: Ap√≥s executar todo o ciclo de vida, deve retornar OS com status ENTREGUE e todos os timestamps preenchidos",
      "parentId": "fld_tests"
    },
    {
      "_id": "fld_mongodb",
      "_type": "request_group",
      "name": "4. Verifica√ß√£o MongoDB",
      "description": "Comandos para verificar dados no MongoDB Atlas",
      "parentId": "wrk_mongodb_tests"
    },
    {
      "_id": "req_mongo_note",
      "_type": "request",
      "name": "üìù Como verificar no MongoDB Atlas",
      "url": "https://cloud.mongodb.com",
      "method": "GET",
      "description": "ACESSE:\n1. https://cloud.mongodb.com\n2. Cluster: oficina-workorder\n3. Database: workorder_db\n4. Collection: ordens_servico\n5. Verifique documentos salvos com _id (ObjectId)\n\nCAMPOS IMPORTANTES:\n- _id: ObjectId (String no Java)\n- status: RECEBIDA, EM_DIAGNOSTICO, EM_EXECUCAO, FINALIZADA, ENTREGUE\n- cliente_id: Refer√™ncia (Long)\n- veiculo_id: Refer√™ncia (Long)\n- data_criacao: Timestamp\n- data_inicio_execucao: Timestamp (ap√≥s executar)\n- data_termino_execucao: Timestamp (ap√≥s finalizar)\n- data_entrega: Timestamp (ap√≥s entregar)\n- observacoes: String\n- itensOrdemServico: Array de subdocumentos",
      "parentId": "fld_mongodb"
    },
    {
      "_id": "fld_catalog_mock",
      "_type": "request_group",
      "name": "5. Catalog Service (Mock Data)",
      "description": "Dados fict√≠cios de servi√ßos e produtos (caso n√£o esteja rodando)",
      "parentId": "wrk_mongodb_tests"
    },
    {
      "_id": "req_catalog_note",
      "_type": "request",
      "name": "üìù Servi√ßos e Produtos (IDs)",
      "url": "http://localhost:8083",
      "method": "GET",
      "description": "SERVI√áOS (catalog-service):\n- ID 1: Troca de √ìleo (R$ 150,00)\n- ID 2: Alinhamento e Balanceamento (R$ 120,00)\n- ID 3: Revis√£o dos Freios (R$ 200,00)\n- ID 4: Troca de Bateria (R$ 350,00)\n\nPRODUTOS (catalog-service):\n- ID 1: √ìleo Sint√©tico 5W30 (R$ 45,00)\n- ID 2: Filtro de √ìleo (R$ 25,00)\n- ID 3: Pastilha de Freio (R$ 120,00)\n- ID 4: Bateria 60Ah (R$ 320,00)\n\nOBS: Se catalog-service N√ÉO estiver rodando, use apenas os IDs acima que j√° existem no banco.",
      "parentId": "fld_catalog_mock"
    }
  ]
}
